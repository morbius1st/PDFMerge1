<Window Name="mainwin" Title="MainWindow"
		x:Class="Sylvester.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:filesupport="clr-namespace:Sylvester.FileSupport"
		xmlns:local="clr-namespace:Sylvester"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:sys="clr-namespace:System;assembly=mscorlib"
		xmlns:generic="clr-namespace:System.Collections.Generic;assembly=mscorlib"
		Width="1200"
		Height="850"
		Loaded="Mainwin_Loaded"
		mc:Ignorable="d"
		Background="#333333"
		>
	<Window.Resources>

		<GridLength x:Key="glChkBx">20</GridLength>
		<GridLength x:Key="glFolder">70</GridLength>
		<GridLength x:Key="glSheetNumber">120</GridLength>
		<GridLength x:Key="glSeparator">70</GridLength>
		<GridLength x:Key="glSheetName">*</GridLength>
		<GridLength x:Key="glSpare">*</GridLength>

		<GridLength x:Key="glRowHeight">18</GridLength>

		<Style x:Key="bdrMatches"
				TargetType="Border"
				>
			<Setter Property="Margin" Value="4,1,0,1" />
			<Setter Property="BorderThickness" Value="1" />
			<Setter Property="BorderBrush" Value="Transparent" />
		</Style>

		<Style x:Key="lblHeader"
				TargetType="Label"
				>
			<Setter Property="Padding" Value="2,0,3,0" />
			<Setter Property="Margin" Value="2,0,0,0" />
			<Setter Property="Foreground" Value="White" />
			<Setter Property="BorderThickness" Value="1,0,0,0" />
			<Setter Property="BorderBrush" Value="DimGray" />
		</Style>

		<Style x:Key="lblTitle"
				TargetType="Label"
				BasedOn="{StaticResource lblHeader}"
				>
			<Setter Property="BorderThickness" Value="1,0,1,0" />
			<Setter Property="MinWidth" Value="90" />
		</Style>

		<Style x:Key="lblValue"
				TargetType="Label"
				>
			<Setter Property="Padding" Value="2,0,3,0" />
			<Setter Property="Margin" Value="3,1,6,1" />
			<Setter Property="Foreground" Value="LightGray" />
			<!-- <Setter Property="BorderThickness" Value=".5" /> -->
			<!-- <Setter Property="BorderBrush" Value="Gray" /> -->
		</Style>


	</Window.Resources>
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="110" />
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="*" />
			<RowDefinition Height="60" />
		</Grid.RowDefinitions>

		<ListView Name="lvBase"
				Grid.Column="0"
				Grid.Row="0"
				HorizontalAlignment="Stretch"
				VerticalAlignment="Stretch"
				HorizontalContentAlignment="Stretch"
				d:DataContext="{Binding ElementName=mainwin,
																Path=fm.cv}"
				DataContext="{Binding ElementName=mainwin,
															Mode=OneWay,
															Path=fm.cv}"
				ScrollViewer.CanContentScroll="False"
				Background="#444444"
				Foreground="White"
				ItemTemplate="{DynamicResource DataTemplateTest}"
				ItemsSource="{Binding}"
				>

			<ListView.Resources>

				<DataTemplate x:Key="DataTemplateTest"
						DataType="filesupport:SheetIdTest"
						>
					<Border
							CornerRadius="10"
							BorderThickness="8,1,.5,5"
							>
						<Border.BorderBrush>
							<LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
								<GradientStop Offset="0.938" Color="#FF1C2F32" />
								<GradientStop Offset="0.998" Color="#FFAAEAF3" />
							</LinearGradientBrush>
						</Border.BorderBrush>
						<Border
								Margin="-8,-1,-.5,-5"
								Padding="0,0,0,5"
								CornerRadius="10"
								BorderThickness="12,2.5,.5,0"
								BorderBrush="#FFAAEAF3"
								>
							<Grid
									Margin="4,0,0,0"
									Width="Auto"
									HorizontalAlignment="Stretch"
									>
								<Grid.ColumnDefinitions>

									<ColumnDefinition Width="{StaticResource glSpare}" />
								</Grid.ColumnDefinitions>
								<Grid.RowDefinitions>

									<RowDefinition Height="Auto" />

								</Grid.RowDefinitions>

								<StackPanel
										Grid.Column="0"
										Grid.Row="0"
										Margin="0,4,6,0"
										Orientation="Horizontal"
										>

									<StackPanel
											Margin="0"
											Width="Auto"
											Orientation="Vertical"
											>

										<!--  titles  -->
										<!--  base  -->
										<Label Content="Update"
												Margin="0"
												Padding="3,0,8,0"
												HorizontalContentAlignment="left"
												Foreground="White"
												BorderThickness="0,0,0,1"
												BorderBrush="DimGray"
												>
										</Label>

										<!--  matched  -->
										<CheckBox
												Margin="0,2,0,0"
												HorizontalAlignment="Center"
												VerticalAlignment="Center"
												Background="#FFAAEAF3"
												BorderThickness="0,0,2,2"
												BorderBrush="DimGray"
												IsChecked="{Binding MakeChanges}"
												/>
									</StackPanel>

									<StackPanel
											Margin="0"
											Width="Auto"
											Orientation="Vertical"
											>

										<!--  titles  -->
										<!--  current  -->
										<Label Content="Current"
												Margin="0"
												Padding="3,0,3,0"
												HorizontalContentAlignment="left"
												Foreground="White"
												BorderThickness="0,0,1,1"
												BorderBrush="DimGray"
												>
										</Label>

										<!--  revision  -->
										<Label Content="Revision"
												Margin="0"
												Padding="3,0,3,0"
												HorizontalContentAlignment="Left"
												Foreground="White"
												BorderThickness="0,0,1,0"
												BorderBrush="DimGray"
												>

										</Label>
									</StackPanel>

									<StackPanel Orientation="Vertical">
										<StackPanel Orientation="Horizontal">
											<Label Name="ShtNum" Content="{Binding MatchedSheetNumber, FallbackValue=base value}"
													Margin="1,0,1,0"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Right"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

											<Label Name="Sep" Content="{Binding MatchedSeparator, FallbackValue=sep}"
													Margin="1,0,1,0"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Center"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

											<Label Name="ShtName" Content="{Binding MatchedSheetName, FallbackValue=sheet name}"
													Margin="1,0,1,0"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Left"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

											<Label Content="{Binding Comment, FallbackValue=comment}"
													Margin="1,0,1,0"
													Padding="4,0,0,0"
													HorizontalContentAlignment="right"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

										</StackPanel>

										<StackPanel Orientation="Horizontal">

											<Label Name="testShtNum" Content="{Binding SheetNumber, FallbackValue=value}"
													Margin="1,0,1,0"
													Width="{Binding ElementName=ShtNum,
																					Path=ActualWidth}"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Right"
													Foreground="White"
													BorderThickness="1"
													>
												<Label.Style>
													<Style TargetType="Label">
														<Setter Property="BorderBrush" Value="Transparent" />
														<Style.Triggers>
															<DataTrigger
																	Binding="{Binding Path=SheetNumberMatches}"
																	Value="false"
																	>
																<Setter Property="BorderBrush" Value="Red" />
															</DataTrigger>
														</Style.Triggers>
													</Style>
												</Label.Style>
											</Label>

											<Label Content="{Binding Separator, FallbackValue=s}"
													Margin="1,0,1,0"
													Width="{Binding ElementName=Sep,
																					Path=ActualWidth}"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Center"
													Foreground="White"
													BorderThickness="1"
													>
												<Label.Style>
													<Style TargetType="Label">
														<Setter Property="BorderBrush" Value="Transparent" />
														<Style.Triggers>

															<DataTrigger
																	Binding="{Binding Path=SeparationMatches}"
																	Value="false"
																	>
																<Setter Property="BorderBrush" Value="Red" />
															</DataTrigger>
														</Style.Triggers>
													</Style>
												</Label.Style>
											</Label>

											<Label Content="{Binding SheetName, FallbackValue=name}"
													Margin="1,0,1,0"
													Width="{Binding ElementName=ShtName,
																					Path=ActualWidth}"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Left"
													Foreground="White"
													BorderThickness="1"
													>
												<Label.Style>
													<Style TargetType="Label">
														<Setter Property="BorderBrush" Value="Transparent" />
														<Style.Triggers>

															<DataTrigger
																	Binding="{Binding Path=SheetNameMatches}"
																	Value="false"
																	>
																<Setter Property="BorderBrush" Value="Red" />
															</DataTrigger>
														</Style.Triggers>
													</Style>
												</Label.Style>
											</Label>

										</StackPanel>

									</StackPanel>
								</StackPanel>

							</Grid>
						</Border>
					</Border>

				</DataTemplate>
			</ListView.Resources>
		</ListView>


		<ListView Name="lbTest"
				Grid.Column="1"
				Grid.Row="0"
				HorizontalAlignment="Stretch"
				VerticalAlignment="Stretch"
				d:DataContext="{Binding ElementName=mainwin,
																Mode=OneWay,
																Path=fm.TestFiles.SheetFiles.Files}"
				DataContext="{Binding ElementName=mainwin,
															Mode=OneWay,
															Path=fm.TestFiles.SheetFiles.Files}"
				ScrollViewer.CanContentScroll="False"
				Background="#444444"
				Foreground="White"
				ItemTemplate="{DynamicResource DataTemplateTest}"
				ItemsSource="{Binding}"
				>

			<ListView.Resources>

				<DataTemplate x:Key="DataTemplateTest"
						DataType="filesupport:SheetIdBase"
						>
					<StackPanel
							Margin="0"
							Orientation="Vertical"
							>
						<StackPanel Orientation="Horizontal">
							<Label Content="File Name"
									Style="{StaticResource lblTitle}"
									/>
							<Label Content="{Binding Path=FullFileRoute.FileName, FallbackValue=\\asdf\\asdf\\asdf\\asdf}"
									Style="{StaticResource lblValue}"
									/>
						</StackPanel>
						<StackPanel Orientation="Horizontal">
							<Label Content="Sheet Number"
									Style="{StaticResource lblTitle}"
									/>
							<Label Content="{Binding Path=SheetID, FallbackValue=A A1.0-1}"
									MinWidth="100"
									Style="{StaticResource lblValue}"
									/>
							<Label Content="Separator"
									Style="{StaticResource lblTitle}"
									/>
							<Label Content="{Binding Path=Separator, FallbackValue=-}"
									MinWidth="30"
									Style="{StaticResource lblValue}"
									/>
							<Label Content="Sheet Name"
									Style="{StaticResource lblTitle}"
									/>
							<Label Content="{Binding Path=SheetName, FallbackValue=Sheet Name}"
									Style="{StaticResource lblValue}"
									/>
						</StackPanel>
						<StackPanel Orientation="Horizontal">
							<Label Content="Adj Sht Num"
									Style="{StaticResource lblTitle}"
									/>
							<Label Content="{Binding Path=AdjustedSheetID, FallbackValue=A1 0 1}"
									MinWidth="100"
									Style="{StaticResource lblValue}"
									/>
							<Label Content="Comment"
									Style="{StaticResource lblTitle}"
									/>
							<Label Content="{Binding Path=Comment, FallbackValue=(no comment)}"
									Style="{StaticResource lblValue}"
									/>
						</StackPanel>
					</StackPanel>
				</DataTemplate>
			</ListView.Resources>
		</ListView>


		<ListView Name="lvBase2"
				Grid.Column="0"
				Grid.Row="1"
				HorizontalAlignment="Stretch"
				VerticalAlignment="Stretch"
				HorizontalContentAlignment="Stretch"
				d:DataContext="{Binding ElementName=mainwin,
																Path=fm.cv2}"
				DataContext="{Binding ElementName=mainwin,
															Mode=OneWay,
															Path=fm}"
				ScrollViewer.CanContentScroll="False"
				Background="#444444"
				Foreground="White"
				ItemTemplate="{DynamicResource DataTemplateTest2}"
							ItemsSource="{Binding fm.cv2, ElementName=mainwin}">

			<ListView.Resources>

				<DataTemplate x:Key="DataTemplateTest2"
						DataType="filesupport:TestFile"
						>
					<Border
							CornerRadius="10"
							BorderThickness="8,1,.5,5"
							>
						<Border.BorderBrush>
							<LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
								<GradientStop Offset="0.938" Color="#FF1C2F32" />
								<GradientStop Offset="0.998" Color="#FFAAEAF3" />
							</LinearGradientBrush>
						</Border.BorderBrush>
						<Border
								Margin="-8,-1,-.5,-5"
								Padding="0,0,0,5"
								CornerRadius="10"
								BorderThickness="12,2.5,.5,0"
								BorderBrush="#FFAAEAF3"
								>
							<Grid
									Margin="4,0,0,0"
									Width="Auto"
									HorizontalAlignment="Stretch"
									>
								<Grid.ColumnDefinitions>

									<ColumnDefinition Width="{StaticResource glSpare}" />
								</Grid.ColumnDefinitions>
								<Grid.RowDefinitions>

									<RowDefinition Height="Auto" />

								</Grid.RowDefinitions>

								<StackPanel
										Grid.Column="0"
										Grid.Row="0"
										Margin="0,4,6,0"
										Orientation="Horizontal"
										>

									<StackPanel
											Margin="0"
											Width="Auto"
											Orientation="Vertical"
											>

										<!--  titles  -->
										<!--  base  -->
										<Label Content="Update"
												Margin="0"
												Padding="3,0,8,0"
												HorizontalContentAlignment="left"
												Foreground="White"
												BorderThickness="0,0,0,1"
												BorderBrush="DimGray"
												>
										</Label>

										<!--  matched  -->
										<CheckBox
												Margin="0,2,0,0"
												HorizontalAlignment="Center"
												VerticalAlignment="Center"
												Background="#FFAAEAF3"
												BorderThickness="0,0,2,2"
												BorderBrush="DimGray"
												IsChecked="{Binding MakeChanges}"
												/>
									</StackPanel>

									<StackPanel
											Margin="0"
											Width="Auto"
											Orientation="Vertical"
											>

										<!--  titles  -->
										<!--  current  -->
										<Label Content="Current"
												Margin="0"
												Padding="3,0,3,0"
												HorizontalContentAlignment="left"
												Foreground="White"
												BorderThickness="0,0,1,1"
												BorderBrush="DimGray"
												>
										</Label>

										<!--  revision  -->
										<Label Content="Revision"
												Margin="0"
												Padding="3,0,3,0"
												HorizontalContentAlignment="Left"
												Foreground="White"
												BorderThickness="0,0,1,0"
												BorderBrush="DimGray"
												>

										</Label>
									</StackPanel>

									<StackPanel Orientation="Vertical">
										<StackPanel Orientation="Horizontal">
											<Label Name="ShtNum" Content="{Binding MatchedSheetNumber, FallbackValue=base value}"
													Margin="1,0,1,0"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Right"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

											<Label Name="Sep" Content="{Binding MatchedSeparator, FallbackValue=sep}"
													Margin="1,0,1,0"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Center"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

											<Label Name="ShtName" Content="{Binding MatchedSheetName, FallbackValue=sheet name}"
													Margin="1,0,1,0"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Left"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

											<Label Content="{Binding Comment, FallbackValue=comment}"
													Margin="1,0,1,0"
													Padding="4,0,0,0"
													HorizontalContentAlignment="right"
													Foreground="White"
													BorderThickness="1"
													BorderBrush="Transparent"
													>
											</Label>

										</StackPanel>

										<StackPanel Orientation="Horizontal">

											<Label Name="testShtNum" Content="{Binding SheetNumber, FallbackValue=value}"
													Margin="1,0,1,0"
													Width="{Binding ElementName=ShtNum,
																					Path=ActualWidth}"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Right"
													Foreground="White"
													BorderThickness="1"
													>
												<Label.Style>
													<Style TargetType="Label">
														<Setter Property="BorderBrush" Value="Transparent" />
														<Style.Triggers>
															<DataTrigger
																	Binding="{Binding Path=SheetNumberMatches}"
																	Value="false"
																	>
																<Setter Property="BorderBrush" Value="Red" />
															</DataTrigger>
														</Style.Triggers>
													</Style>
												</Label.Style>
											</Label>

											<Label Content="{Binding Separator, FallbackValue=s}"
													Margin="1,0,1,0"
													Width="{Binding ElementName=Sep,
																					Path=ActualWidth}"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Center"
													Foreground="White"
													BorderThickness="1"
													>
												<Label.Style>
													<Style TargetType="Label">
														<Setter Property="BorderBrush" Value="Transparent" />
														<Style.Triggers>

															<DataTrigger
																	Binding="{Binding Path=SeparationMatches}"
																	Value="false"
																	>
																<Setter Property="BorderBrush" Value="Red" />
															</DataTrigger>
														</Style.Triggers>
													</Style>
												</Label.Style>
											</Label>

											<Label Content="{Binding SheetName, FallbackValue=name}"
													Margin="1,0,1,0"
													Width="{Binding ElementName=ShtName,
																					Path=ActualWidth}"
													Padding="4,0,4,0"
													HorizontalContentAlignment="Left"
													Foreground="White"
													BorderThickness="1"
													>
												<Label.Style>
													<Style TargetType="Label">
														<Setter Property="BorderBrush" Value="Transparent" />
														<Style.Triggers>

															<DataTrigger
																	Binding="{Binding Path=SheetNameMatches}"
																	Value="false"
																	>
																<Setter Property="BorderBrush" Value="Red" />
															</DataTrigger>
														</Style.Triggers>
													</Style>
												</Label.Style>
											</Label>

										</StackPanel>

									</StackPanel>
								</StackPanel>

							</Grid>
						</Border>
					</Border>

				</DataTemplate>
			</ListView.Resources>
		</ListView>





		<StackPanel
				Grid.Column="0"
				Grid.Row="2"
				Grid.ColumnSpan="3"
				HorizontalAlignment="Right"
				Orientation="Horizontal"
				>

			<Button Name="btnGo" Content="Go"
					Margin="10"
					Width="90"
					Height="36"
					Click="BtnGo_OnClick"
					/>

			<Button Name="btnDone" Content="Done"
					Margin="10"
					Width="90"
					Height="36"
					Click="BtnDone_OnClick"
					/>

		</StackPanel>
	</Grid>
</Window>
